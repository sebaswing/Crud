{"ast":null,"code":"import { Paciente } from '../Modelo/Paciente';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/vacunas.service\";\nimport * as i3 from \"../services/auth.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\n\nfunction IngresoVacunasComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" fecha de aplicaci\\u00F3n\");\n    i0.ɵɵelementStart(2, \"input\", 17);\n    i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_div_17_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.gripeFecha = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.gripeFecha);\n  }\n}\n\nfunction IngresoVacunasComponent_input_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_input_18_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.covid = $event);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.covid);\n  }\n}\n\nfunction IngresoVacunasComponent_div_22_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"fecha de aplicaci\\u00F3n dosis 2\");\n    i0.ɵɵelementStart(2, \"input\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_div_22_div_4_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.covid2 = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r9.covid2);\n  }\n}\n\nfunction IngresoVacunasComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" fecha de aplicaci\\u00F3n dosis 1\");\n    i0.ɵɵelementStart(2, \"input\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_div_22_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.covid1 = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵtemplate(4, IngresoVacunasComponent_div_22_div_4_Template, 3, 1, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.covid1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.checkDosis1());\n  }\n}\n\nfunction IngresoVacunasComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"fecha de aplicaci\\u00F3n\");\n    i0.ɵɵelementStart(2, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_div_27_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.fechaAmarilla = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.fechaAmarilla);\n  }\n}\n\nexport let IngresoVacunasComponent = /*#__PURE__*/(() => {\n  class IngresoVacunasComponent {\n    constructor(route, service, authService) {\n      this.route = route;\n      this.service = service;\n      this.authService = authService;\n      this.returnUrl = '/lista-vacunas';\n      this.pacienteEditar = new Paciente();\n    }\n\n    ngOnInit() {}\n\n    guardarVacunas(form) {\n      this.llenarVacuna();\n      this.buscaUsuario();\n      this.route.navigate([this.returnUrl]);\n    } // 1 gripe, 2 covid 3 gripaAmarilla\n\n\n    llenarVacuna() {\n      let vacu = {};\n      vacu.id_usuario = Number(localStorage.getItem('idPaciente'));\n\n      if (this.gripe) {\n        vacu.dosis = 1;\n        vacu.id_vacuna = 1;\n        vacu.fecha_aplicacion = this.gripeFecha;\n        this.service.createVacuna(vacu).subscribe();\n      }\n\n      if (this.covid) {\n        var fecha = new Date(this.covid1);\n        var fecha2 = new Date(this.covid2);\n\n        if (fecha.getDay().toString() != \"NaN\") {\n          vacu.dosis = 1;\n          vacu.id_vacuna = 2;\n          vacu.fecha_aplicacion = fecha;\n          this.service.createVacuna(vacu).subscribe();\n\n          if (fecha2.getDay().toString() != \"NaN\") {\n            vacu.dosis = 2;\n            vacu.id_vacuna = 2;\n            vacu.fecha_aplicacion = fecha2;\n            this.service.createVacuna(vacu).subscribe();\n          }\n        }\n      }\n\n      if (this.amarilla) {\n        vacu.dosis = 1;\n        vacu.id_vacuna = 3;\n        vacu.fecha_aplicacion = this.fechaAmarilla;\n        this.service.createVacuna(vacu).subscribe();\n      }\n    }\n\n    checkAmarilla() {\n      return this.amarilla;\n    }\n\n    resetCovid() {\n      if (this.covid == false) {\n        this.covid1 = this.resetDate();\n        this.covid2 = this.resetDate();\n      }\n\n      return true;\n    }\n\n    checkDosis1() {\n      var fecha = new Date(this.covid1);\n      if (fecha.getDay().toString() == \"NaN\") this.covid2 = this.resetDate();\n      return fecha.getDay().toString() != \"NaN\";\n    }\n\n    resetDate() {\n      var reset;\n      return reset;\n    }\n\n    buscaUsuario() {\n      var email = localStorage.getItem('token');\n\n      if (email != null) {\n        this.authService.checkLog(email).subscribe(encontrado => {\n          localStorage.setItem('isLoggedIn', \"true\");\n          localStorage.setItem('tipo', 'paciente');\n          localStorage.setItem('token', encontrado.email);\n          encontrado.completo_vacunas = 1;\n          this.authService.editarUsuario(encontrado).subscribe();\n          this.route.navigate([this.returnUrl]);\n        });\n      }\n    }\n\n  }\n\n  IngresoVacunasComponent.ɵfac = function IngresoVacunasComponent_Factory(t) {\n    return new (t || IngresoVacunasComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.VacunasService), i0.ɵɵdirectiveInject(i3.AuthService));\n  };\n\n  IngresoVacunasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IngresoVacunasComponent,\n    selectors: [[\"app-ingreso-vacunas\"]],\n    decls: 32,\n    vars: 8,\n    consts: [[\"href\", \"//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"id\", \"bootstrap-css\"], [1, \"wrapper\", \"fadeInDown\"], [\"id\", \"formContent\"], [1, \"fadeIn\", \"first\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"src\", \"../../assets/logocortado.png\"], [1, \"tooltip\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"name\", \"gripe\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"flexRadioDefault1\", 1, \"form-check-label\"], [4, \"ngIf\"], [\"class\", \"form-check-input\", \"type\", \"checkbox\", \"name\", \"covid\", 3, \"ngModel\", \"ngModelChange\", 4, \"ngIf\"], [\"type\", \"checkbox\", \"name\", \"amarilla\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"acepto\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-check-label\"], [\"type\", \"submit\", \"value\", \"Ingresar Vacunas\", 1, \"fadeIn\", \"fourth\", 3, \"disabled\"], [\"type\", \"date\", \"name\", \"gripeFecha\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"checkbox\", \"name\", \"covid\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"covid1\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"covid2\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"date\", \"name\", \"fechaAmarilla\", 3, \"ngModel\", \"ngModelChange\"]],\n    template: function IngresoVacunasComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r16 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"link\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function IngresoVacunasComponent_Template_form_ngSubmit_4_listener() {\n          i0.ɵɵrestoreView(_r16);\n\n          const _r0 = i0.ɵɵreference(5);\n\n          return i0.ɵɵresetView(ctx.guardarVacunas(_r0));\n        });\n        i0.ɵɵelementStart(6, \"p\");\n        i0.ɵɵelement(7, \"img\", 6)(8, \"br\");\n        i0.ɵɵtext(9, \"Ingresa a tus vacunas\");\n        i0.ɵɵelementStart(10, \"span\", 7);\n        i0.ɵɵtext(11, \"?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 8)(13, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_Template_input_ngModelChange_13_listener($event) {\n          return ctx.gripe = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"label\", 10);\n        i0.ɵɵtext(15, \" Gripe \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"br\");\n        i0.ɵɵtemplate(17, IngresoVacunasComponent_div_17_Template, 3, 1, \"div\", 11);\n        i0.ɵɵtemplate(18, IngresoVacunasComponent_input_18_Template, 1, 1, \"input\", 12);\n        i0.ɵɵelementStart(19, \"label\", 10);\n        i0.ɵɵtext(20, \" Covid \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"br\");\n        i0.ɵɵtemplate(22, IngresoVacunasComponent_div_22_Template, 5, 2, \"div\", 11);\n        i0.ɵɵelementStart(23, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_Template_input_ngModelChange_23_listener($event) {\n          return ctx.amarilla = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"label\", 10);\n        i0.ɵɵtext(25, \" Gripe Amarilla \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"br\");\n        i0.ɵɵtemplate(27, IngresoVacunasComponent_div_27_Template, 3, 1, \"div\", 11);\n        i0.ɵɵelementStart(28, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function IngresoVacunasComponent_Template_input_ngModelChange_28_listener($event) {\n          return ctx.acepto = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"label\", 15);\n        i0.ɵɵtext(30, \" Acepto que la informaci\\u00F3n que brindo es la correcta \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(31, \"input\", 16);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngModel\", ctx.gripe);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.gripe);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.resetCovid());\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.covid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.amarilla);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.checkAmarilla());\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.acepto);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.acepto);\n      }\n    },\n    dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.CheckboxControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n    styles: [\"html[_ngcontent-%COMP%]{background-color:#56baed}img[_ngcontent-%COMP%]{width:30%}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:100vh}p[_ngcontent-%COMP%]{background-color:#a2cc84;color:#fff}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.form-check[_ngcontent-%COMP%]{text-align-last:start;margin-left:20%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#000;border-bottom:2px solid #5fbae9}.error[_ngcontent-%COMP%]{background-color:#f7cccc;border:none;color:#ec0d0d;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #ffd7d7f5;border-radius:5px;margin:5px 20px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#a2cc84;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#a2cc84}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=submit][_ngcontent-%COMP%]:disabled{background-color:#d2e6c4}input[type=password][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#000;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=password][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #A2CC84}input[type=password][_ngcontent-%COMP%]:placeholder, input[type=email][_ngcontent-%COMP%]:placeholder, input[type=number][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:\\\"\\\";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#a2cc84}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}\"]\n  });\n  return IngresoVacunasComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}